<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Interacting with Environments · CommonRLInterface.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://JuliaReinforcementLearning.github.io/CommonRLInterface.jl/interacting/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CommonRLInterface.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../required/">Required Interface</a></li><li><a class="tocitem" href="../multiplayer/">Multiplayer Interface</a></li><li><a class="tocitem" href="../optional/">Optional Interface</a></li><li class="is-active"><a class="tocitem" href>Interacting with Environments</a></li><li><a class="tocitem" href="../wrappers/">Environment Wrappers</a></li><li><a class="tocitem" href="../faqs/">Frequently Asked Questions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Interacting with Environments</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Interacting with Environments</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaReinforcementLearning/CommonRLInterface.jl/blob/master/docs/src/interacting.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Interacting-with-Environments"><a class="docs-heading-anchor" href="#Interacting-with-Environments">Interacting with Environments</a><a id="Interacting-with-Environments-1"></a><a class="docs-heading-anchor-permalink" href="#Interacting-with-Environments" title="Permalink"></a></h1><p>Users who wish to run simulations or implement reinforcement learning algorithms with environments that others have defined should interact with environments using functions from the <a href="../required/#Required-Interface">Required Interface</a> and <a href="../optional/#Optional-Interface">Optional Interface</a>.</p><p>In order to achieve compatibility with the widest possible set of environments, it is critical to handle environments with incomplete implementations of the <a href="../optional/#Optional-Interface">Optional Interface</a> gracefully. The <a href="#CommonRLInterface.AutomaticDefault"><code>AutomaticDefault</code></a> module provides functions that have default implementations based on other functions when possible, so users can call them without worrying about which optional functions the environment implements. For this reason, RL algorithm implementers should use <a href="#CommonRLInterface.AutomaticDefault"><code>AutomaticDefault</code></a> unless there is a compelling reason not to.</p><article class="docstring"><header><a class="docstring-binding" id="CommonRLInterface.AutomaticDefault" href="#CommonRLInterface.AutomaticDefault"><code>CommonRLInterface.AutomaticDefault</code></a> — <span class="docstring-category">Module</span></header><section><div><p>The <code>CommonRLInterface.AutomaticDefault</code> module contains a complete copy of all of the functions in <code>CommonRLInterface</code>, with the crucial difference that each of the functions will try as hard as possible to return a default value.</p><p>For example, if the environment does not have <a href="../optional/#CommonRLInterface.clone"><code>CommonRLInterface.clone</code></a> implemented for it, <code>AutomaticDefault.clone</code> will fall back to <code>deepcopy</code>, and if <a href="../optional/#CommonRLInterface.valid_actions"><code>CommonRLInterface.valid_actions</code></a> is implemented, then <code>AutomaticDefault.valid_action_mask</code> will automatically work consistently.</p><p>Environment <em>implementers</em> should implement new methods for functions in <code>CommonRLInterface</code> and should not deal with <code>AutomaticDefault</code>; environment <em>users</em> (e.g. RL algorithm implementers) should use <a href="#CommonRLInterface.AutomaticDefault"><code>AutomaticDefault</code></a> for the widest compatibility possible with different environments (or use <a href="../optional/#CommonRLInterface.provided"><code>CommonRLInterface.provided</code></a> to manually adapt to the environment&#39;s capabilities).</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">import CommonRLInterface
using CommonRLInterface.AutomaticDefault
using Test

struct ExampleEnv &lt;: CommonRLInterface.AbstractEnv end

CommonRLInterface.actions(::ExampleEnv) = 1:2

# CommonRLInterface.valid_actions will not work, because valid_actions was not defined 
@test_throws MethodError CommonRLInterface.valid_actions(ExampleEnv())

# But, this version from AutomaticDefault will work by falling back to `actions`:
valid_actions(ExampleEnv())

# output

1:2</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaReinforcementLearning/CommonRLInterface.jl/blob/c0b73d6b2b524c02ba3e3d15ff2f811023dea950/src/automatic_default.jl#LL1-L28">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../optional/">« Optional Interface</a><a class="docs-footer-nextpage" href="../wrappers/">Environment Wrappers »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 5 June 2023 23:44">Monday 5 June 2023</span>. Using Julia version 1.9.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
